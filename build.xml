<?xml version="1.0" encoding="UTF-8" ?>
<project default="info">
    <property file="build.properties"/>
    <path id="master-classpath">
        <fileset dir="lib">
            <include name="*.jar"/>
        </fileset>
        <pathelement path="${buildDir}"/>
    </path>
    <path id="tests-path">
        <fileset dir="${srcTest}">
            <include name="*"/>
        </fileset>
    </path>
    <target name="compile">
        <mkdir dir="${buildDir}/classes"/>
        <javac target="${targetVersion}" destdir="${buildDir}/classes" includeantruntime="false">
            <exclude name="${srcTest}/java/*"/>
            <exclude name="**/*Test.java"/>
            <classpath refid="master-classpath"/>
            <src path="${srcDir}"/>
        </javac>
    </target>
    <target name="build" depends="clean,compile">
        <war destfile="${buildDir}/${name}.war" webxml="${webXml}">
            <fileset dir="${srcDir}/resources"/>
            <fileset dir="${srcDir}/webapp"/>
            <classes dir="${buildDir}/classes"/>
            <lib dir="lib"/>
            <zipfileset dir="${musicDir}" prefix="${musicDir}"/>

        </war>
    </target>
    <target name="clean">
        <delete dir="${buildDir}/classes"/>
    </target>
    <target name="test" depends="build">
    </target>
    <target name="music" depends="build,music_player">
    </target>
    <target name="team" depends="build">
    </target>
    <target name="info">
        <echo>Hello World - Welcome to ${name}!</echo>
        <echo>buildDir: ${buildDir}</echo>
        <echo>srcDir: ${srcDir}</echo>
    </target>
    <target name="music_player">
        <taskdef name="music_player" classname="Ant.MusicTask" classpath="${buildDir}/classes"/>
        <music_player musicFilepath="${musicDir}/kurtangle.wav"/>
    </target>
</project>